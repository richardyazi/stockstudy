# CodyBuddy 规则配置指南

## 概述
本指南说明如何在CodyBuddy中配置股票趋势练习网站项目的规则，以便大模型能够更好地理解本地开发环境。

## 已创建的规则文件
在项目 `.codebuddy/rules/` 目录下已创建以下规则文件：

### 1. stockstudy-dev-environment.mdc
- **类型**: always (总是加载)
- **内容**: 详细的项目开发环境规则
- **用途**: 提供完整的项目架构、配置和工作流信息

### 2. stockstudy-quick-ref.mdc
- **类型**: manual (手动加载)
- **内容**: 快速参考指南
- **用途**: 提供核心信息的关键摘要

## 规则配置方法

### 方法一：项目级规则（已自动配置）
由于规则文件已创建在项目的 `.codebuddy/rules/` 目录中，CodyBuddy会自动识别并加载这些规则。

### 方法二：用户级规则（可选）
如果想在多个项目中共享这些规则，可以将其复制到CodyBuddy用户规则目录：
```
~/.codebuddy/rules/stockstudy-dev-environment.mdc
~/.codebuddy/rules/stockstudy-quick-ref.mdc
```

## 规则使用场景

### 开发对话中自动适用
当在股票趋势练习网站项目目录中与AI对话时，以下情况会自动应用规则：

1. **项目识别**
   - AI会自动识别这是React+FastAPI+Redis技术栈的全栈项目
   - 理解项目的主要功能是股票技术分析

2. **代码生成**
   - 前端代码会自动使用React+TypeScript语法
   - 后端代码会自动使用FastAPI框架
   - API设计会遵循现有的`/api/stock/*`模式

3. **开发指导**
   - 提供正确的启动命令和顺序
   - 解决常见端口冲突问题
   - 推荐适当的依赖版本

4. **问题诊断**
   - 快速识别常见开发环境问题
   - 提供针对性的解决方案
   - 推荐适当的调试方法

### 手动触发规则
在某些情况下，可以通过以下方式手动触发规则：

```markdown
请参考stockstudy-dev-environment规则分析此问题
```

或

```markdown
根据stockstudy-quick-ref规则，如何优化前端性能？
```

## 规则自定义

### 添加新规则
如需添加新规则，可在`.codebuddy/rules/`目录创建新的.mdc文件，格式如下：
```markdown
# 规则名称

## 规则内容
...
```

### 修改现有规则
直接编辑相应的.mdc文件即可，修改后会立即生效。

### 规则优先级
- always类型规则会在每次对话中自动加载
- manual类型规则需要手动引用才会加载
- 项目级规则优先于用户级规则

## 最佳实践

1. **保持规则简洁**: 避免在规则中包含过多细节，保持关键信息突出
2. **定期更新**: 随着项目演进，及时更新规则内容
3. **分类存储**: 按功能和用途组织不同类型的规则
4. **版本控制**: 将规则文件纳入版本控制系统

## 验证规则是否生效

在项目目录中与AI对话时，可以通过以下问题验证规则是否生效：
- "这个项目使用什么技术栈？"
- "如何启动开发环境？"
- "主要API端点是什么？"

如果AI的回答与规则中的信息一致，说明规则已成功配置并生效。

## 故障排除

如果规则未生效，请检查：
1. 规则文件是否位于正确的目录(.codebuddy/rules/)
2. 文件格式是否为Markdown(.mdc扩展名)
3. 规则语法是否正确
4. 是否有CodyBuddy版本兼容性问题

## 后续建议

1. 根据实际使用情况，可进一步细化规则内容
2. 可以添加特定功能的规则，如"图表开发规则"、"API设计规则"等
3. 考虑为不同开发阶段创建不同的规则集（开发、测试、生产）

通过合理配置和使用这些规则，可以显著提高AI对项目环境的理解能力，从而提供更准确、更相关的开发建议和解决方案。